{"remainingRequest":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\src\\views\\front\\FHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\src\\views\\front\\FHeader.vue","mtime":1651988298129},{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645012147060},{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1645012162188},{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645012147060},{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1645012163094}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBxdWVyeUJ5UG9zIH0gZnJvbSAiLi4vLi4vYXBpL2ZvbnQiOw0KaW1wb3J0IHRva2VuIGZyb20gIi4uLy4uL3N0b3JlL3Rva2VuIjsNCmltcG9ydCBGSGVhZEluZm8gZnJvbSAiLi4vYWRtaW4vdXNlci9JbmZvIjsNCmltcG9ydCBQYXNzd29yZCBmcm9tICIuLi9hZG1pbi91c2VyL1Bhc3N3b3JkIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkZIZWFkZXIiLA0KICBjb21wb25lbnRzOiB7IEZIZWFkSW5mbywgUGFzc3dvcmQgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY2hhbm5lbHM6IFtdLA0KICAgICAgdXNlckRhdGE6IHRva2VuLmdldFVzZXIoKSwNCiAgICAgIHBlclZpc2lhYmxlOiBmYWxzZSwNCiAgICAgIHBhc3NWaXNpYWJsZTogZmFsc2UsDQogICAgICBsb2dpblZpc2lhYmxlOiB0cnVlLA0KICAgIH07DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICBsb2dpblN0YXRlKCkgew0KICAgICAgaWYgKHRva2VuLmdldCgpKSB7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgcXVlcnlCeVBvcygiYSIpDQogICAgICAudGhlbigoZGF0YSkgPT4gew0KICAgICAgICB0aGlzLmNoYW5uZWxzID0gZGF0YS5kYXRhOw0KICAgICAgICBpZih0eXBlb2YgdGhpcy51c2VyRGF0YSA9PT0ndW5kZWZpbmVkJyl7DQogICAgICAgICAgdGhpcy5sb2dpblZpc2lhYmxlID0gdHJ1ZTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgdGhpcy5sb2dpblZpc2lhYmxlID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICAuY2F0Y2goKCkgPT4ge30pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY29tbWFuZChpbmRleCkgew0KICAgICAgaWYgKGluZGV4ID09ICJsb2dvdXQiKSB7DQogICAgICAgIC8v6YCA5Ye655m75b2VLS0+55m75b2V6aG16Z2iDQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibG9nb3V0Iik7DQogICAgICAgIHRoaXMubG9naW5WaXNpYWJsZSA9IHRydWU7DQogICAgICB9DQogICAgfSwNCg0KICAgIGhhbmRsZUNvbW1hbmQoY29tbWFuZCkgew0KICAgICAgaWYgKGNvbW1hbmQgPT0gImluZm8iKSB7DQogICAgICAgIHRoaXMucGVyVmlzaWFibGUgPSB0cnVlOw0KICAgICAgfQ0KICAgICAgaWYgKGNvbW1hbmQgPT0gImxvZ291dCIpIHsNCiAgICAgICAgaWYgKHRoaXMudXNlckRhdGEuc3RhdHVzID09PSAiVSIpIHsNCiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImxvZ291dCIpOw0KICAgICAgICAgIHRoaXMubG9naW5WaXNpYWJsZSA9IHRydWU7DQogICAgICAgICAgdGhpcy5pbmZvVmlzaWFibGU9IGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibG9nb3V0Iik7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAoY29tbWFuZCA9PSAicGFzc3dvcmQiKSB7DQogICAgICAgIHRoaXMucGFzc1Zpc2lhYmxlID0gdHJ1ZTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgaGlkZGVuKCkgew0KICAgICAgdGhpcy5wYXNzVmlzaWFibGUgPSBmYWxzZTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["FHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"FHeader.vue","sourceRoot":"src/views/front","sourcesContent":["<template>\r\n  <!-- 导航 -->\r\n  <header id=\"header\">\r\n    <div class=\"logo\"><a href=\"#\">gongtenxy的博客</a></div>\r\n    <nav>\r\n      <ul id=\"starlist\">\r\n        <li><a href=\"/\">首页</a></li>\r\n        <li\r\n          v-for=\"(item, index) in channels\"\r\n          :key=\"index\"\r\n          :class=\"{ menu: item.children }\"\r\n        >\r\n          <router-link v-if=\"item.single\" :to=\"'/channel_detail/' + item.id\">{{\r\n            item.name\r\n          }}</router-link>\r\n          <router-link v-else :to=\"'/list/' + item.id\">{{\r\n            item.name\r\n          }}</router-link>\r\n          <ul class=\"sub\" v-if=\"item.children\">\r\n            <li v-for=\"(sub, sindex) in item.children\" :key=\"sindex\">\r\n              <router-link\r\n                v-if=\"sub.single\"\r\n                :to=\"'/channel_detail/' + sub.id\"\r\n                >{{ sub.name }}</router-link\r\n              >\r\n              <router-link v-else :to=\"'/list/' + sub.id\">{{\r\n                sub.name\r\n              }}</router-link>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n    <div class=\"searchico\" v-if=\"loginVisiable\">\r\n      <template>\r\n        <router-link to=\"/login\">登录</router-link>\r\n        <router-link to=\"/reg\">注册</router-link>\r\n      </template>\r\n    </div>\r\n    <div class=\"searchico\" v-else>\r\n        <el-dropdown trigger=\"click\" @command=\"handleCommand\">\r\n          <el-link class=\"user\" :underline=\"false\">\r\n            <table border=\"0\">\r\n              <tr>\r\n                <td valign=\"middle\">\r\n                  <img :src=\"userData.avatar\" width=\"20px\" height=\"20px\" />\r\n                </td>\r\n                <td valign=\"top\">{{userData.userName}}</td>\r\n                <td valign=\"top\">\r\n                  <el-icon class=\"el-icon-caret-bottom\"></el-icon>\r\n                </td>\r\n              </tr>\r\n            </table>\r\n          </el-link>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"info\"> 个人信息</el-dropdown-item>\r\n            <el-dropdown-item command=\"password\">修改密码</el-dropdown-item>\r\n            <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n        <el-dialog\r\n          :visible.sync=\"perVisiable\"\r\n          v-if=\"perVisiable\"\r\n          :close-on-click-modal=\"false\"\r\n        >\r\n          <FHeadInfo></FHeadInfo>\r\n        </el-dialog>\r\n\r\n        <el-dialog\r\n          :visible.sync=\"passVisiable\"\r\n          v-if=\"passVisiable\"\r\n          :close-on-click-modal=\"false\"\r\n        >\r\n          <Password :data=\"userData\" @hideDialog=\"hidden\"></Password>\r\n        </el-dialog> \r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport { queryByPos } from \"../../api/font\";\r\nimport token from \"../../store/token\";\r\nimport FHeadInfo from \"../admin/user/Info\";\r\nimport Password from \"../admin/user/Password\";\r\nexport default {\r\n  name: \"FHeader\",\r\n  components: { FHeadInfo, Password },\r\n  data() {\r\n    return {\r\n      channels: [],\r\n      userData: token.getUser(),\r\n      perVisiable: false,\r\n      passVisiable: false,\r\n      loginVisiable: true,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    loginState() {\r\n      if (token.get()) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    queryByPos(\"a\")\r\n      .then((data) => {\r\n        this.channels = data.data;\r\n        if(typeof this.userData ==='undefined'){\r\n          this.loginVisiable = true;\r\n        }else{\r\n          this.loginVisiable = false;\r\n        }\r\n      })\r\n      .catch(() => {});\r\n  },\r\n  methods: {\r\n    command(index) {\r\n      if (index == \"logout\") {\r\n        //退出登录-->登录页面\r\n        this.$store.commit(\"logout\");\r\n        this.loginVisiable = true;\r\n      }\r\n    },\r\n\r\n    handleCommand(command) {\r\n      if (command == \"info\") {\r\n        this.perVisiable = true;\r\n      }\r\n      if (command == \"logout\") {\r\n        if (this.userData.status === \"U\") {\r\n          this.$store.commit(\"logout\");\r\n          this.loginVisiable = true;\r\n          this.infoVisiable= false;\r\n        } else {\r\n          this.$store.commit(\"logout\");\r\n          this.$router.push(\"/login\");\r\n        }\r\n      }\r\n      if (command == \"password\") {\r\n        this.passVisiable = true;\r\n      }\r\n    },\r\n\r\n    hidden() {\r\n      this.passVisiable = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 头部 */\r\n#header {\r\n  width: 100%;\r\n  background: #008792;\r\n  height: 50px;\r\n}\r\n.logo {\r\n  float: left;\r\n  margin-right: 60px;\r\n  line-height: 50px;\r\n  margin-left: 35px;\r\n}\r\n.logo a {\r\n  font-size: 20px;\r\n  color: #fff;\r\n}\r\n/* 导航 */\r\nnav {\r\n  float: left;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: center;\r\n}\r\n#starlist li {\r\n  position: relative;\r\n  display: inline;\r\n  float: left;\r\n  width: max-content;\r\n}\r\n#starlist li a {\r\n  display: inline;\r\n  float: left;\r\n  height: 50px;\r\n  padding: 0 20px;\r\n  color: #fff;\r\n}\r\n#starlist li a:hover,\r\n#starlist #selected,\r\n.selected > a,\r\n#starlist li:hover {\r\n  color: #00c1de;\r\n  background-color: #009292;\r\n}\r\n#starlist li:hover a {\r\n  color: #00c1de;\r\n}\r\n#starlist ul.sub {\r\n  overflow: hidden;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 50px;\r\n  background: #009292;\r\n  display: none;\r\n  z-index: 9;\r\n}\r\n#starlist ul.sub li {\r\n  height: 30px;\r\n  line-height: 30px;\r\n  font-size: 14px;\r\n}\r\n#starlist ul.sub li:last-child {\r\n  padding-bottom: 10px;\r\n}\r\n#starlist ul.sub li a {\r\n  color: #fff;\r\n}\r\n#starlist ul.sub li a:hover {\r\n  color: #00c1de;\r\n}\r\n#starlist li:hover ul.sub {\r\n  display: block;\r\n}\r\n/* 导航箭头 */\r\n.menu:before {\r\n  position: absolute;\r\n  content: \"\";\r\n  top: 22px;\r\n  right: 5px;\r\n  background: url(~@/assets/images/jt.png) no-repeat;\r\n  width: 8px;\r\n  height: 8px;\r\n  -ms-transition: all 0.5s ease;\r\n  -moz-transition: all 0.5s ease;\r\n  -webkit-transition: all 0.5s ease;\r\n  -o-transition: all 0.5s ease;\r\n  transition: all 0.5s ease;\r\n}\r\n.menu:hover:before {\r\n  transform: rotate(180deg);\r\n} /*旋转*/\r\n/* 登录注册 */\r\n.searchico {\r\n  margin-top: 5px;\r\n  width: 150px;\r\n  color: #ffffff;\r\n  height: 39px;\r\n  float: right;\r\n  display: inline;\r\n  cursor: pointer;\r\n  line-height: 39px;\r\n}\r\n.searchico a {\r\n  color: #ffffff;\r\n  padding: 0px 10px;\r\n}\r\n\r\n/* 登录后 */\r\n.user {\r\n  color: #ffffff;\r\n  font-size: 14px;\r\n}\r\n.user img {\r\n  border-radius: 50%;\r\n  padding-bottom: 5px;\r\n}\r\n.el-link.el-link--default {\r\n  color: #fff;\r\n}\r\n</style>"]}]}