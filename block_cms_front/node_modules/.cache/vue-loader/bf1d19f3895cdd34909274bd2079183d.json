{"remainingRequest":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\src\\views\\front\\Detail.vue?vue&type=style&index=0&id=56e5c0b1&scoped=true&lang=css&","dependencies":[{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\src\\views\\front\\Detail.vue","mtime":1652018539331},{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\css-loader\\dist\\cjs.js","mtime":1645012155022},{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1645012168595},{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\postcss-loader\\src\\index.js","mtime":1645012162182},{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645012147060},{"path":"F:\\Program Files (x86)\\vue博客系统\\block_cms_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1645012163094}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmNvbXsNCiAgbWFyZ2luOiAxMHB4Ow0KICBmb250LXNpemU6IDE0cHg7DQogIHBhZGRpbmctYm90dG9tOiAxMHB4Ow0KICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICNjY2NjY2M7DQogIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCn0NCi5hdXRob3J7DQogIGJvcmRlci1yYWRpdXM6IDIwcHg7DQogIGJvcmRlcjogMXB4IHNvbGlkICNjY2NjY2M7DQogIGhlaWdodDogNDBweDsNCiAgd2lkdGg6IDQwcHg7DQp9DQoNCg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/front","sourcesContent":["<template>\r\n<!-- 文章详情页面（点击了阅读更多后跳转） -->\r\n  <div v-title :data-title=\"article.title\">\r\n    <FHeader></FHeader>\r\n    <article>\r\n      <div class=\"lbox\">\r\n        <div class=\"content_box whitebg\">\r\n          <h2 class=\"htitle\"><span class=\"con_nav\">您现在的位置是：<a href=\"/\">网站首页</a>&gt;<a href=\"/\">博客正文</a></span>博客正文</h2>\r\n          <h1 class=\"con_tilte\">{{article.title}}</h1>\r\n          <p class=\"bloginfo\"><i class=\"avatar\"><img src=\"~@/assets/images/avatar.png\"></i><span>{{article.author}}</span><span>2018-10-28</span></p>\r\n          <p class=\"con_info\" v-if=\"article.summary\"><b>摘要</b>{{article.summary}}</p>\r\n          <div class=\"con_text\">\r\n            <v-md-preview :text=\"article.content\"></v-md-preview>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"whitebg lanmu\">\r\n          <h1>评论</h1>\r\n          <div class=\"com\" v-for=\"(item,index) in comments\" :key=\"index\">\r\n            <p style=\"float:left;width: 60px;\">\r\n              <img v-if=\"item.user && item.user.avatar\" :src=\"item.user.avatar\" class=\"author\">\r\n              <img v-else src=\"@/assets/images/avatar.png\" class=\"author\">\r\n            </p>\r\n            <p style=\"float:right;width: 760px;\">\r\n              <span style=\"font-size: 12px;\">{{item.createDate}}</span>\r\n              <br/>\r\n              {{item.content}}\r\n            </p>\r\n          </div>\r\n          <p>\r\n            <el-form ref=\"commentForm\" :model=\"commentForm\" style=\"width: 100%;padding: 10px;\">\r\n              <el-form-item prop=\"content\" align=\"left\">\r\n                <el-input type=\"textarea\" placeholder=\"评论输入...\" style=\"font-size: 12px;\" rows=\"4\" v-model.trim=\"commentForm.content\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" style=\"width:20%;\" :loading=\"loading\" @click=\"submitForm\">提交评论</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"rbox\">\r\n        <FOrder></FOrder>\r\n        <FTag></FTag>\r\n        <FriendLink></FriendLink>\r\n      </div>\r\n    </article>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import '@/assets/css/base.css'\r\n  import '@/assets/css/m.css'\r\n  import FHeader from \"./FHeader\"\r\n  import FOrder from \"./FOrder\"\r\n  import FriendLink from \"./FriendLink\"\r\n  import Footer from \"./Footer\"\r\n  import FTag from \"./FTag\"\r\n  import {getArticle,comment_query} from \"../../api/font\";\r\n  import {create} from \"../../api/comment\";\r\n  import token from \"../../store/token\";\r\n\r\n  export default {\r\n    name: \"Index\",\r\n    components: {\r\n      FHeader, FOrder, FriendLink,Footer,FTag\r\n    },\r\n    data(){\r\n      return{\r\n        article:{},\r\n        comments:[],\r\n        loading:false,\r\n        commentForm:{\r\n          content:'',\r\n        },\r\n      }\r\n    },\r\n    created() {\r\n      getArticle(this.$route.params.id).then(data=>{\r\n        this.article = data.data\r\n        this.articleId = this.article.id\r\n      })\r\n      this.query(this.$route.params.id);\r\n    },\r\n    beforeRouteUpdate(to, from, next){\r\n      console.log(to.params)\r\n      next()\r\n    },\r\n    methods:{\r\n      query(articleId){\r\n        comment_query(articleId).then(data=>{\r\n          this.comments = data.data\r\n          console.log(data.data);\r\n        })\r\n      },\r\n      submitForm(){\r\n        if(!token.get()){\r\n          this.$message.warning('请先登录')\r\n          return;\r\n        }\r\n        if(this.commentForm.content==''){\r\n          this.$message.warning('评论不能为空')\r\n          return;\r\n        }\r\n        this.loading = true\r\n        this.commentForm.articleId=this.article.id\r\n        create(this.commentForm).then(res=>{\r\n          this.loading = false\r\n          this.$message.success(res.msg)\r\n          this.commentForm.content='';\r\n          this.query(res.data.articleId);\r\n        }).catch(error=>{\r\n          this.loading = false\r\n          console.log(error);\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n.com{\r\n  margin: 10px;\r\n  font-size: 14px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px dotted #cccccc;\r\n  display: inline-block;\r\n}\r\n.author{\r\n  border-radius: 20px;\r\n  border: 1px solid #cccccc;\r\n  height: 40px;\r\n  width: 40px;\r\n}\r\n\r\n</style>"]}]}